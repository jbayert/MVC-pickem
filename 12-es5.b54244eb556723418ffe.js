!function(){function e(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==i.return||i.return()}finally{if(c)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{XpXM:function(t,i,a){"use strict";a.r(i),a.d(i,"MainPageModule",function(){return ie});var o,s,c=a("ofXK"),u=a("3Pt+"),b=a("TEn/"),m=a("tyNb"),l=a("fXoL"),f=((s=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=l.Fb({type:s,selectors:[["app-home"]],decls:4,vars:0,consts:[["routerLink","/list-events"],["routerLink","/list-picks"]],template:function(e,t){1&e&&(l.Rb(0,"ion-button",0),l.Bc(1,"Find Events"),l.Qb(),l.Rb(2,"ion-button",1),l.Bc(3,"My Picks"),l.Qb())},directives:[b.b,b.C,m.h],styles:[""]}),s),h=((o=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=l.Fb({type:o,selectors:[["app-leagues"]],decls:15,vars:0,consts:[["slot","bottom"],["name","musical-note"],["name","videocam"],["name","game-controller"]],template:function(e,t){1&e&&(l.Rb(0,"ion-tabs"),l.Bc(1," Test "),l.Rb(2,"ion-tab-bar",0),l.Rb(3,"ion-tab-button"),l.Rb(4,"ion-label"),l.Bc(5,"Music"),l.Qb(),l.Mb(6,"ion-icon",1),l.Qb(),l.Rb(7,"ion-tab-button"),l.Rb(8,"ion-label"),l.Bc(9,"Movies"),l.Qb(),l.Mb(10,"ion-icon",2),l.Qb(),l.Rb(11,"ion-tab-button"),l.Rb(12,"ion-label"),l.Bc(13,"Games"),l.Qb(),l.Mb(14,"ion-icon",3),l.Qb(),l.Qb(),l.Qb())},directives:[b.v,b.t,b.u,b.j,b.f],styles:[""]}),o),v=a("mrSG"),p=a("SxV6"),g=a("lJxs");function d(e){if(e instanceof Date)return e;try{return e.toDate()}catch(t){return null}}var k,y,w=function(){function e(){n(this,e),this.userPicks=[],this.rankArray=[],this.tieBreakerGuess=null,this.name=""}return r(e,[{key:"getGameArray",value:function(){var e=new Array;console.log(this.eventData);for(var t=0;t<this.eventData.away_teams.length;t++)e.push({id:t,homeTeam:this.eventData.home_teams[t],awayTeam:this.eventData.away_teams[t],homeTeamShort:this.eventData.home_team_shorts[t],awayTeamShort:this.eventData.away_team_shorts[t],complete:this.eventData.status_of_games[t],homeWins:this.eventData.home_wins[t],awayWins:this.eventData.away_wins[t],status_of_game:this.eventData.status_of_games[t],startTimes:[this.eventData.start_times1[t],this.eventData.start_times2[t]],userPick:this.userPicks[t],rank:this.rankArray[t],best_of:this.eventData.best_of[t]});return e}}]),e}(),R=function(){function e(){n(this,e),this.id="",this.description="",this.games_finish=null,this.games_start=null,this.name="",this.status=""}return r(e,[{key:"add_Data",value:function(e){for(var t in e)["games_finish","games_start","closes"].includes(t)?this[t]=d(e[t]):this.hasOwnProperty(t)&&(this[t]=e[t])}}]),e}(),Q=function(){function e(t){n(this,e),t&&this.addData(t)}return r(e,[{key:"addData",value:function(e,t){var n=this;for(var i in t&&(this.event_id=t),e){if(["games_finish","games_start","closes"].includes(i))this[i]=d(e[i]);else if(["start_times1","start_times2"].includes(i))try{this[i]=[],e[i].forEach(function(e){n[i].push(d(e))})}catch(r){console.error("The variable ".concat(i," must be an Array<>"))}else this[i]=e[i]}}}]),e}(),_=a("I/3d"),B=a("UbJi"),D=((y=function(){function t(e,i){n(this,t),this.db=e,this.auth=i}return r(t,[{key:"listPicks",value:function(){var t=this;return new Promise(function(n,i){t.db.collection("events",function(e){return e.where("closes",">",new Date).orderBy("closes")}).snapshotChanges().pipe(Object(p.a)()).subscribe(function(t){var i,r=new Array,a=e(t);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.payload.doc.data(),c=new R;c.add_Data(s),c.id=o.payload.doc.id,r.push(c)}}catch(u){a.e(u)}finally{a.f()}console.log(r),n(r)})})}},{key:"getUserEventData",value:function(e){var t=this;return new Promise(function(n,i){return Object(v.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var i,r,a,o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new w,t.next=3,this.getEventData(e);case 3:return i.eventData=t.sent,t.next=6,this.getUser();case 6:return r=t.sent.uid,a=this.db.doc("/events/".concat(e,"/picks/").concat(r)),t.next=10,a.get().toPromise();case 10:(o=t.sent).exists&&(s=o.data(),i.name=s.name,i.rankArray=s.ranks,i.userPicks=s.picks,i.tieBreakerGuess=s.tiebreaker,n(i)),n(i);case 13:case"end":return t.stop()}},t,this)}))})}},{key:"getEventData",value:function(e){var t=this;return new Promise(function(n,i){return Object(v.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.db.doc("events/".concat(e,"/data/data")).get().toPromise();case 3:r=t.sent,(a=new Q(r.data)).addData(r.data(),e),n(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),i(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}))})}},{key:"makePick",value:function(e){var t=this;return new Promise(function(n,i){return Object(v.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var r,a,o,s,c,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.eventData.event_id,t.next=3,this.getUser();case 3:return a=t.sent.uid,o="/events/".concat(r,"/picks/").concat(a),s={owner:a,picks:e.userPicks,ranks:e.rankArray,tiebreaker:e.tieBreakerGuess,name:e.name},t.prev=6,t.next=9,this.updateDoc(o,s);case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(6),t.abrupt("return",void i(t.t0));case 14:return c="/users/".concat(a,"/event_picks/").concat(r),u={status:e.eventData.status,name:e.name,eventName:e.eventData.name,score:0},t.prev=15,t.next=18,this.updateDoc(c,u);case 18:t.next=23;break;case 20:return t.prev=20,t.t1=t.catch(15),t.abrupt("return",void i(t.t1));case 23:n(!0);case 24:case"end":return t.stop()}},t,this,[[6,11],[15,20]])}))})}},{key:"getPick",value:function(){var e=this;return new Promise(function(t,n){return Object(v.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser();case 2:n=e.sent,i=this.db.collection("/users/".concat(n.uid,"/event_picks")),t(i.valueChanges({idField:"id"}).pipe(Object(g.a)(function(e){return e})));case 5:case"end":return e.stop()}},e,this)}))})}},{key:"updateDoc",value:function(e,t){var n=this;return new Promise(function(i,r){return Object(v.a)(n,void 0,void 0,regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=this.db.doc(e),n.next=3,a.get().toPromise();case 3:if(!n.sent.exists){n.next=7;break}a.update(t).then(function(e){i(e)}).catch(function(e){r(e)}),n.next=8;break;case 7:a.set(t).then(function(e){i(e)}).catch(function(e){r(e)});case 8:case"end":return n.stop()}},n,this)}))})}},{key:"getUser",value:function(){return this.auth.currentUser}}]),t}()).\u0275fac=function(e){return new(e||y)(l.Vb(_.a),l.Vb(B.a))},y.\u0275prov=l.Hb({token:y,factory:y.\u0275fac,providedIn:"root"}),y),O=((k=function(){function e(t){n(this,e),this.router=t}return r(e,[{key:"ngOnInit",value:function(){}},{key:"makePick",value:function(){this.router.navigate(["make-pick",this.event.id])}}]),e}()).\u0275fac=function(e){return new(e||k)(l.Lb(m.g))},k.\u0275cmp=l.Fb({type:k,selectors:[["app-event"]],inputs:{event:"event"},decls:9,vars:5,consts:[[3,"click"]],template:function(e,t){1&e&&(l.Rb(0,"ion-item"),l.Rb(1,"ion-label"),l.Rb(2,"h2"),l.Bc(3),l.Qb(),l.Rb(4,"p"),l.Bc(5),l.ec(6,"date"),l.Qb(),l.Rb(7,"ion-button",0),l.Zb("click",function(){return t.makePick()}),l.Bc(8," Make Pick "),l.Qb(),l.Qb(),l.Qb()),2&e&&(l.Bb(3),l.Cc(t.event.name),l.Bb(2),l.Dc("Closes: ",l.gc(6,2,t.event.games_finish,"EEE MMM d, h:mm a"),""))},directives:[b.h,b.j,b.b],pipes:[c.e],styles:[""]}),k);function x(e,t){1&e&&l.Mb(0,"app-event",1),2&e&&l.jc("event",t.$implicit)}var P,F=((P=function(){function e(t){n(this,e),this.pickGamesService=t}return r(e,[{key:"ngOnInit",value:function(){this.allEventObservable=this.pickGamesService.listPicks()}}]),e}()).\u0275fac=function(e){return new(e||P)(l.Lb(D))},P.\u0275cmp=l.Fb({type:P,selectors:[["app-list-events"]],decls:3,vars:3,consts:[[3,"event",4,"ngFor","ngForOf"],[3,"event"]],template:function(e,t){1&e&&(l.Rb(0,"ion-list"),l.zc(1,x,1,1,"app-event",0),l.ec(2,"async"),l.Qb()),2&e&&(l.Bb(1),l.jc("ngForOf",l.fc(2,1,t.allEventObservable)))},directives:[b.k,c.k,O],pipes:[c.b],styles:[""]}),P);function j(e,t){if(1&e){var n=l.Sb();l.Rb(0,"ion-item"),l.Rb(1,"ion-label"),l.Rb(2,"h2"),l.Bc(3),l.Qb(),l.Rb(4,"p"),l.Bc(5),l.ec(6,"date"),l.Qb(),l.Rb(7,"ion-button",1),l.Zb("click",function(){l.rc(n);var e=t.$implicit;return l.dc().editPick(e)}),l.Bc(8," Update Pick "),l.Qb(),l.Qb(),l.Qb()}if(2&e){var i=t.$implicit;l.Bb(3),l.Cc(i.eventName),l.Bb(2),l.Dc("Closes: ",l.gc(6,2,null==i.closes?null:i.closes.toDate(),"EEE MMM d, h:mm a"),"")}}var M,I,E,T,C=((I=function(){function e(t,i){n(this,e),this.pickGamesService=t,this.router=i}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.pickGamesService.getPick().then(function(t){e.pickObservable=t,console.log(t)})}},{key:"editPick",value:function(e){this.router.navigate(["make-pick",e.id])}}]),e}()).\u0275fac=function(e){return new(e||I)(l.Lb(D),l.Lb(m.g))},I.\u0275cmp=l.Fb({type:I,selectors:[["app-list-picks"]],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,t){1&e&&(l.Rb(0,"ion-list"),l.zc(1,j,9,5,"ion-item",0),l.ec(2,"async"),l.Qb()),2&e&&(l.Bb(1),l.jc("ngForOf",l.fc(2,1,t.pickObservable)))},directives:[b.k,c.k,b.h,b.j,b.b],pipes:[c.b,c.e],styles:[""]}),I),S=((M=function(){function e(t,i){n(this,e),this.auth=t,this.router=i}return r(e,[{key:"signOutUser",value:function(){var e=this;return new Promise(function(t,n){e.auth.signOut().then(function(){e.router.navigate(["welcome"]),t()}).catch(function(e){n(e)})})}}]),e}()).\u0275fac=function(e){return new(e||M)(l.Vb(B.a),l.Vb(m.g))},M.\u0275prov=l.Hb({token:M,factory:M.\u0275fac,providedIn:"root"}),M),G=["leftMenu"],A=((T=function(){function e(t,i,r){n(this,e),this.authManagerService=t,this.router=i,this.activatedRoute=r}return r(e,[{key:"moveToPage",value:function(e){this.router.navigate(e),this.menu.close(!0)}},{key:"signOut",value:function(){this.menu.close(!0),this.authManagerService.signOutUser()}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||T)(l.Lb(S),l.Lb(m.g),l.Lb(m.a))},T.\u0275cmp=l.Fb({type:T,selectors:[["app-toolbar"]],viewQuery:function(e,t){var n;1&e&&l.Fc(G,!0),2&e&&l.oc(n=l.ac())&&(t.menu=n.first)},decls:32,vars:0,consts:[["side","start","content-id","main-content"],["leftMenu",""],["translucent",""],[3,"click"],["name","home","slot","start"],["name","american-football","slot","start"],["name","baseball","slot","start"],["name","trophy","slot","start"],["name","trash","slot","start"],["name","log-out","slot","start"]],template:function(e,t){1&e&&(l.Rb(0,"ion-menu",0,1),l.Rb(2,"ion-header"),l.Rb(3,"ion-toolbar",2),l.Rb(4,"ion-title"),l.Bc(5,"Menu"),l.Qb(),l.Qb(),l.Qb(),l.Rb(6,"ion-content"),l.Rb(7,"ion-list"),l.Rb(8,"ion-item",3),l.Zb("click",function(){return t.moveToPage([""])}),l.Mb(9,"ion-icon",4),l.Rb(10,"ion-label"),l.Bc(11,"Home"),l.Qb(),l.Qb(),l.Rb(12,"ion-item",3),l.Zb("click",function(){return t.moveToPage(["list-events"])}),l.Mb(13,"ion-icon",5),l.Rb(14,"ion-label"),l.Bc(15,"Find Events"),l.Qb(),l.Qb(),l.Rb(16,"ion-item",3),l.Zb("click",function(){return t.moveToPage(["list-picks"])}),l.Mb(17,"ion-icon",6),l.Rb(18,"ion-label"),l.Bc(19,"My Picks"),l.Qb(),l.Qb(),l.Rb(20,"ion-item",3),l.Zb("click",function(){return t.moveToPage(["list-picks"])}),l.Mb(21,"ion-icon",7),l.Rb(22,"ion-label"),l.Bc(23,"Leagues"),l.Qb(),l.Qb(),l.Rb(24,"ion-item"),l.Mb(25,"ion-icon",8),l.Rb(26,"ion-label"),l.Bc(27,"Trash"),l.Qb(),l.Qb(),l.Rb(28,"ion-item",3),l.Zb("click",function(){return t.signOut()}),l.Mb(29,"ion-icon",9),l.Rb(30,"ion-label"),l.Bc(31,"Log Out"),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb())},directives:[b.m,b.e,b.y,b.x,b.d,b.k,b.h,b.f,b.j],styles:[""]}),T),L=((E=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||E)},E.\u0275cmp=l.Fb({type:E,selectors:[["app-main"]],decls:10,vars:0,consts:[["id","main-content",1,"ion-page"],["slot","start"]],template:function(e,t){1&e&&(l.Mb(0,"app-toolbar"),l.Rb(1,"div",0),l.Rb(2,"ion-header"),l.Rb(3,"ion-toolbar"),l.Rb(4,"ion-buttons",1),l.Mb(5,"ion-menu-button"),l.Qb(),l.Rb(6,"ion-title"),l.Bc(7,"Sports Picks"),l.Qb(),l.Qb(),l.Qb(),l.Rb(8,"ion-content"),l.Mb(9,"router-outlet"),l.Qb(),l.Qb())},directives:[A,b.e,b.y,b.c,b.n,b.x,b.d,m.k],styles:[""]}),E);function q(e,t){if(1&e&&(l.Rb(0,"ion-segment-button",4),l.Bc(1),l.Qb()),2&e){var n=l.dc().$implicit;l.Bb(1),l.Dc(" ",n.awayTeam," ")}}function z(e,t){if(1&e&&(l.Rb(0,"ion-segment-button",5),l.Bc(1),l.Qb()),2&e){var n=l.dc().$implicit;l.Bb(1),l.Dc(" ",n.homeTeam," ")}}function U(e,t){if(1&e){var n=l.Sb();l.Rb(0,"ion-item"),l.Rb(1,"ion-list"),l.Rb(2,"ion-item"),l.Bc(3),l.Qb(),l.Rb(4,"ion-item"),l.Rb(5,"ion-segment",1),l.Zb("ionChange",function(e){l.rc(n);var i=t.$implicit;return l.dc().segmentChange(e,i)}),l.zc(6,q,2,1,"ion-segment-button",2),l.zc(7,z,2,1,"ion-segment-button",3),l.Qb(),l.Qb(),l.Mb(8,"ion-item-divider"),l.Qb(),l.Qb()}if(2&e){var i=t.$implicit;l.Bb(3),l.Ec(" ",i.awayTeam," vs ",i.homeTeam," "),l.Bb(2),l.kc("id",i.id),l.kc("value",i.userPick),l.Bb(1),l.jc("ngIf",1==i.best_of),l.Bb(1),l.jc("ngIf",1==i.best_of)}}var Z,$=((Z=function(){function e(t){n(this,e),this.toastController=t,this._games=new Array,this._original_games=new Array,this.nextButtonDisable=!1,this.gamesOutput=new l.o,this.nextButtonDisable=!1}return r(e,[{key:"ngOnInit",value:function(){this.isComplete()}},{key:"segmentChange",value:function(e,t){t.userPick=e.detail.value,this.isComplete()}},{key:"isComplete",value:function(){if(console.log(this.games),this.games){for(var e=0;e<this.games.length;e++)if(!this.games[e].userPick)return this.gamesOutput.emit(!1),!1;return this.gamesOutput.emit(!0),!0}return this.gamesOutput.emit(!1),!1}},{key:"presentToastWithOptions",value:function(){return Object(v.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({position:"bottom",buttons:[{side:"start",text:"Help",handler:function(){console.log("Favorite clicked")}},{text:"Do not show again",role:"cancel"},{text:"Close",role:"cancel"}]});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){}},{key:"games",set:function(e){console.log(e),this._games=e,this._original_games=Object.assign([],this._games),this.isComplete()},get:function(){return this._games}}]),e}()).\u0275fac=function(e){return new(e||Z)(l.Lb(b.F))},Z.\u0275cmp=l.Fb({type:Z,selectors:[["app-list-games"]],inputs:{games:"games"},outputs:{gamesOutput:"gamesOutput"},decls:4,vars:1,consts:[[4,"ngFor","ngForOf"],["interface","popover",3,"id","value","ionChange"],["value","0",4,"ngIf"],["value","1",4,"ngIf"],["value","0"],["value","1"]],template:function(e,t){1&e&&(l.Rb(0,"ion-list"),l.Rb(1,"ion-list-header"),l.Bc(2,"Your picks"),l.Qb(),l.zc(3,U,9,6,"ion-item",0),l.Qb()),2&e&&(l.Bb(3),l.jc("ngForOf",t.games))},directives:[b.k,b.l,c.k,b.h,b.p,b.D,c.l,b.i,b.q],styles:[""]}),Z);function N(e,t){1&e&&(l.Rb(0,"ion-text",8),l.Bc(1," The name is required "),l.Qb())}function V(e,t){if(1&e&&(l.Rb(0,"ion-text",8),l.Bc(1),l.Qb()),2&e){var n=l.dc(2);l.Bb(1),l.Dc(" The name has to be at least ",n.mainForm.get("name").getError("minlength").requiredLength," characters. ")}}function J(e,t){if(1&e&&(l.Rb(0,"ion-item"),l.zc(1,N,2,0,"ion-text",7),l.zc(2,V,2,1,"ion-text",7),l.Qb()),2&e){var n=l.dc();l.Bb(1),l.jc("ngIf",n.mainForm.get("name").hasError("required")),l.Bb(1),l.jc("ngIf",n.mainForm.get("name").hasError("minlength"))}}function H(e,t){1&e&&(l.Rb(0,"ion-text",8),l.Bc(1," The tiebreaker is required "),l.Qb())}function X(e,t){1&e&&(l.Rb(0,"ion-text",8),l.Bc(1," Please enter a positive number "),l.Qb())}function W(e,t){if(1&e&&(l.Rb(0,"ion-item"),l.zc(1,H,2,0,"ion-text",7),l.zc(2,X,2,0,"ion-text",7),l.Qb()),2&e){var n=l.dc();l.Bb(1),l.jc("ngIf",n.mainForm.get("tiebreaker_answer").hasError("required")),l.Bb(1),l.jc("ngIf",n.mainForm.get("tiebreaker_answer").hasError("pattern"))}}var K,Y,ee,te=[{path:"",component:L,children:[{path:"list-events",component:F},{path:"list-picks",component:C},{path:"make-pick/:eventID",component:(K=function(){function e(t,i,r){n(this,e),this.activatedRoute=t,this.pickGameService=i,this.router=r,this.tiebreaker_question="",this.listGamesDone=!1,this._original_games=new Array,this.listGamesDone=!1}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.activatedRoute.params.subscribe(function(t){return Object(v.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.event_id=t.eventID,this.pickGameService.getUserEventData(this.event_id).then(function(e){console.log(e),n.event=e,n.games=e.getGameArray(),console.log(n.games),n.tiebreaker_question=n.event.eventData.tiebreaker_question,e.name&&(n.mainForm.get("name").setValue(e.name),n.mainForm.get("name").disable()),e.tieBreakerGuess&&n.mainForm.get("tiebreaker_answer").setValue(e.tieBreakerGuess)}).catch(function(e){console.warn(e)});case 1:case"end":return e.stop()}},e,this)}))}),this.mainForm=new u.g({name:new u.d("",[u.u.required,u.u.minLength(3)]),tiebreaker_answer:new u.d("",[u.u.required,u.u.pattern(/^[0-9]+$/)])})}},{key:"pickChanged",value:function(e){this.listGamesDone=e}},{key:"formSubmitted",value:function(e){return Object(v.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("submit"),console.log(this._original_games),t=new Array,n=new Array,i=this.games.length,this._original_games.forEach(function(e,a){var o=i-r.games.findIndex(function(t){return t.id==e.id});n.push(o),t.push(e.userPick)}),this.event.rankArray=n,this.event.userPicks=t,this.event.name=this.mainForm.get("name").value,this.event.tieBreakerGuess=+this.mainForm.get("tiebreaker_answer").value,console.log(this.event),e.prev=3,e.next=6,this.pickGameService.makePick(this.event);case 6:this.router.navigate(["list-picks"]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[3,9]])}))}},{key:"ngOnDestroy",value:function(){this.params_sub&&this.params_sub.unsubscribe()}},{key:"games",get:function(){return this._games},set:function(e){this._games=e,this._original_games=Object.assign([],this._games)}},{key:"submitButtonDisabled",get:function(){return!(this.mainForm.valid&&this.listGamesDone)}},{key:"name",get:function(){return this.mainForm.get("name")}}]),e}(),K.\u0275fac=function(e){return new(e||K)(l.Lb(m.a),l.Lb(D),l.Lb(m.g))},K.\u0275cmp=l.Fb({type:K,selectors:[["app-make-pick"]],decls:19,vars:6,consts:[[3,"formGroup"],["lines","none"],["formControlName","name","placeholder","Name"],[4,"ngIf"],[3,"games","gamesOutput"],["formControlName","tiebreaker_answer","placeholder","Tiebreaker"],[3,"disabled","click"],["color","danger",4,"ngIf"],["color","danger"]],template:function(e,t){1&e&&(l.Rb(0,"ion-list"),l.Rb(1,"form",0),l.Rb(2,"ion-list",1),l.Rb(3,"ion-item"),l.Rb(4,"ion-label"),l.Bc(5,"Name of Pick"),l.Qb(),l.Mb(6,"ion-input",2),l.Qb(),l.zc(7,J,3,2,"ion-item",3),l.Rb(8,"app-list-games",4),l.Zb("gamesOutput",function(e){return t.pickChanged(e)}),l.Qb(),l.Rb(9,"ion-list-header"),l.Bc(10,"Tie Breaker"),l.Qb(),l.Rb(11,"ion-item"),l.Rb(12,"p"),l.Bc(13),l.Qb(),l.Qb(),l.Rb(14,"ion-item"),l.Mb(15,"ion-input",5),l.Qb(),l.zc(16,W,3,2,"ion-item",3),l.Rb(17,"ion-button",6),l.Zb("click",function(e){return t.formSubmitted(e)}),l.Bc(18,"Submit"),l.Qb(),l.Qb(),l.Qb(),l.Qb()),2&e&&(l.Bb(1),l.jc("formGroup",t.mainForm),l.Bb(6),l.jc("ngIf",t.mainForm.get("name").errors&&!t.mainForm.get("name").pristine),l.Bb(1),l.jc("games",t.games),l.Bb(5),l.Dc(" ",t.tiebreaker_question," "),l.Bb(3),l.jc("ngIf",t.mainForm.get("tiebreaker_answer").errors&&!t.mainForm.get("tiebreaker_answer").pristine),l.Bb(1),l.jc("disabled",t.submitButtonDisabled))},directives:[b.k,u.v,u.p,u.h,b.h,b.j,b.g,b.E,u.o,u.f,c.l,$,b.l,b.b,b.w],styles:[""]}),K)},{path:"leagues",component:h},{path:"",component:f}]}],ne=((ee=function e(){n(this,e)}).\u0275mod=l.Jb({type:ee}),ee.\u0275inj=l.Ib({factory:function(e){return new(e||ee)},imports:[[m.j.forChild(te)],m.j]}),ee),ie=((Y=function e(){n(this,e),console.log("Home Module")}).\u0275mod=l.Jb({type:Y}),Y.\u0275inj=l.Ib({factory:function(e){return new(e||Y)},imports:[[c.c,u.i,b.z,ne,u.s]]}),Y)}}])}();